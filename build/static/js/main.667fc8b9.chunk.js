(this["webpackJsonpeda-app"]=this["webpackJsonpeda-app"]||[]).push([[0],{248:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var c,a,r,i,o,l,s=n(2),u=n.n(s),j=n(96),d=n.n(j),b=(n(248),n(323)),O=n(215),f=n(38),h=n(313),p=n(219),g=n(317),x=n(66),v=n(324),m=n(327),y=n(292),C=n(146),T=n(294),w=n(295),D=n(293),E=n(221),S="sourceData/SET_COLUMNS",I="sourceData/SET_RECOMMENDED_DATATYPES_TO_COLUMNS",k="sourceData/SET_ROWS",R="sourceData/GET_JSON_DATA_REQUEST",z="sureceData/SET_ATTRIBUTE_TYPE",N=[{name:"Antibiotics dataset from 50's ",path:"/antibiotics.json"},{name:"Movies dataset",path:"/movies.json"},{name:"Cars statistics from 1970 to 1982",path:"/cars.json"}],A=n(291),_=n(9),P=n(51),V="vegaEncoding/SET_FIELD",L="X",W="Y",M="ROW",F="COLUMN",U="SIZE",G="COLOR",J="SHAPE",K="DETAIL",Y="TEXT",X="nominal",B="ordinal",H="quantitative",Q="temporal",q="encodingFields",Z="marks",$={COUNT:"count"},ee=(c={},Object(_.a)(c,$.COUNT,P.d()),Object(_.a)(c,$.AVERAGE,P.a()),a={},Object(_.a)(a,L,P.k()),Object(_.a)(a,W,P.l()),Object(_.a)(a,M,P.g()),Object(_.a)(a,F,P.c()),Object(_.a)(a,U,P.i()),Object(_.a)(a,G,P.b()),Object(_.a)(a,J,P.h()),Object(_.a)(a,K,P.f()),Object(_.a)(a,Y,P.j()),a),te=function(e){return{type:k,rows:e}},ne=Object(v.a)((function(e){return e.pipe(Object(m.a)(R),Object(y.a)((function(e){var t=e.url;return Object(D.a)(t,{selector:function(e){return e.json()}})})),Object(C.a)((function(e){return function(e){return Object(A.a)(e)||0===e.length||0===e[0].length?{columns:[],rows:[]}:{columns:Object.keys(e[0]),rows:e}}(e)})),Object(y.a)((function(e){var t,n=e.rows,c=e.columns;return Object(E.a)([(t=c,{type:S,columnsNames:t}),te(n)])})),Object(T.a)((function(e){return console.log(e)})))}),(function(e){return e.pipe(Object(m.a)(S,k),Object(w.a)({type:I}))})),ce=Object(v.a)(ne),ae=function(e){var t=Object(g.a)(),n=Object(x.a)({reducer:e,middleware:function(e){return e().concat(t)}});return t.run(ce),n},re=n(50),ie=n(54),oe=n(296),le=n(297),se="sourceDataReducer",ue=Object(x.b)({currentDatasetPath:"",attributes:[],attributesTypes:{},rows:[]},(function(e){e.addCase(R,(function(e,t){var n=t.url;e.currentDatasetPath=n})).addCase(S,(function(e,t){var n=t.columnsNames;e.attributes=n,e.attributesTypes=n.reduce((function(e,t){return Object(ie.a)(Object(ie.a)({},e),{},Object(_.a)({},t,X))}),{})})).addCase(k,(function(e,t){var n=t.rows;e.rows=n})).addCase(I,(function(e){e.attributesTypes=Object(oe.a)((function(t,n){return c=Object(le.a)({},e.rows[0])[n],Number(c)?H:Number.isNaN(Date.parse(c))?X:Q;var c}),e.attributesTypes)})).addCase(z,(function(e,t){var n=t.attributeId,c=t.newType;e.attributesTypes[n]=c}))})),je="config/TOGGLE_VIEW",de="workingSpaceReducer",be=Object(x.b)({dataTableView:!1},(function(e){e.addCase(je,(function(e){e.dataTableView=!e.dataTableView}))})),Oe=(o={},Object(_.a)(o,q,(r={},Object(_.a)(r,L,null),Object(_.a)(r,W,null),Object(_.a)(r,F,null),Object(_.a)(r,M,null),r)),Object(_.a)(o,Z,(i={},Object(_.a)(i,U,null),Object(_.a)(i,G,null),Object(_.a)(i,J,null),Object(_.a)(i,K,null),Object(_.a)(i,Y,null),i)),o),fe="vegaEncodingReducer",he=Object(x.b)(Oe,(function(e){e.addCase(V,(function(e,t){var n=t.fieldType,c=t.fieldId,a=t.attributeId;e[n][c]=a}))})),pe=Object(re.b)((l={},Object(_.a)(l,se,ue),Object(_.a)(l,fe,he),Object(_.a)(l,de,be),l)),ge=n(309),xe=n(312),ve=n(298),me=n(16),ye=function(){return Object(me.jsx)(ve.a,{as:"h1",size:"2xl",children:"Exploratory Data Analysis"})},Ce=n(302),Te=n(326),we=n(222),De=n(15),Ee=n(301),Se=n(132),Ie=n(322),ke=function(e){return e.sourceDataReducer},Re=Object(Se.a)(ke,(function(e){return e.currentDatasetPath})),ze=Object(Se.a)(ke,(function(e){return e.attributes})),Ne=Object(Se.a)(ke,(function(e){return Object(Ie.a)(JSON.stringify,JSON.parse)(e.rows)})),Ae=Object(Se.a)(ke,(function(e){return e.attributesTypes})),_e=Object(Se.a)(ke,(function(e){return Object.entries(e.attributesTypes)})),Pe="attribute",Ve=n(319),Le=function(e){var t=e.tagId,n=e.children,c=e.icon,a=e.color,r=e.draggingColor,i=e.textColor,o=e.itemTypeKey,l=e.onDropOutsideDropzone,s=e.grow,u=Object(Ve.a)((function(){return{type:o,item:{tagId:t},collect:function(e){return{isDragging:!!e.isDragging()}},end:function(e,t){var n=e.tagId;t.didDrop()||l(n)}}}),[t,o]),j=Object(De.a)(u,2),d=j[0].isDragging,b=j[1];return Object(me.jsxs)(Te.a,{ref:b,py:1,px:2,borderRadius:"lg",shadow:"lg",borderWidth:1,bg:d?r:a,flexGrow:s?1:0,spacing:2,children:[c,Object(me.jsx)(Ee.a,{fontSize:"sm",color:i,children:n})]},t)};Le.defaultProps={icon:null,color:"white",draggingColor:"cyan.100",textColor:"black",onDropOutsideDropzone:function(){},grow:!1};var We=n(315),Me=n(306),Fe=n(161),Ue=n(325),Ge=n(168),Je=n(224),Ke=function(e){var t=e.value,n=e.onChange,c=u.a.useState(!1),a=Object(De.a)(c,2),r=a[0],i=a[1];return Object(me.jsxs)(We.a,{variant:"responsive",isOpen:r,onClose:function(){return i(!1)},autoFocus:!1,returnFocusOnClose:!1,children:[Object(me.jsx)(We.g,{children:Object(me.jsx)(Me.a,{"aria-label":"Choose type of field",icon:function(e){switch(e){case Q:return Object(me.jsx)(Je.a,{});case H:return Object(me.jsx)(Ge.c,{size:"1.5em"});case B:return Object(me.jsx)(Ge.b,{size:"1.5em"});default:return Object(me.jsx)(Ge.a,{size:"1.5em"})}}(t),size:"xs",background:"white",onClick:function(){return i(!r)}})}),Object(me.jsxs)(We.e,{style:!r&&{display:"none"},children:[Object(me.jsx)(We.b,{}),Object(me.jsx)(We.d,{}),Object(me.jsx)(We.f,{children:"Choose Vega data type"}),Object(me.jsx)(We.c,{children:Object(me.jsx)(Fe.a,{onChange:n,value:t,children:Object(me.jsxs)(Te.c,{align:"start",children:[Object(me.jsx)(Ue.a,{value:H,children:"Quantitative"}),Object(me.jsx)(Ue.a,{value:B,children:"Ordinal"}),Object(me.jsx)(Ue.a,{value:X,children:"Nominal"}),Object(me.jsx)(Ue.a,{value:Q,children:"Temporal"})]})})})]})]})},Ye=function(e){var t=e.name,n=e.fieldType,c=e.onChange;return Object(me.jsx)(Le,{tagId:t,itemTypeKey:Pe,icon:Object(me.jsx)(Ke,{value:n,onChange:c}),children:t})},Xe=function(){var e=Object(f.c)(_e),t=Object(f.b)();return Object(me.jsx)(Te.b,{w:"full",h:"full",p:2,bg:"gray.50",borderRadius:"lg",children:0===e.length?Object(me.jsx)(Ee.a,{fontSize:"sm",color:"gray.500",textAlign:"center",children:"Load some dataset first"}):e.map((function(e){var n=Object(De.a)(e,2),c=n[0],a=n[1];return Object(me.jsx)(Ye,{name:c,fieldType:a,onChange:function(e){return t({type:z,attributeId:c,newType:e})}},c)}))})},Be=n(316),He=function(e){var t=e.isOpen,n=e.onClose,c=e.onChange,a=e.datasets,r=e.currentDataset;return Object(me.jsxs)(Be.a,{isOpen:t,onClose:n,children:[Object(me.jsx)(Be.g,{}),Object(me.jsxs)(Be.d,{children:[Object(me.jsx)(Be.f,{children:"Datasets"}),Object(me.jsx)(Be.c,{}),Object(me.jsx)(Be.b,{children:Object(me.jsx)(Fe.a,{onChange:c,defaultValue:r,children:Object(me.jsx)(Te.b,{direction:"column",children:a.map((function(e){var t=e.name,n=e.path;return Object(me.jsx)(Ue.a,{value:n,children:t},t)}))})})}),Object(me.jsx)(Be.e,{children:Object(me.jsx)(we.a,{colorScheme:"blue",mr:3,onClick:n,children:"Close"})})]})]})};He.defaultProps={onChange:function(){},datasets:[],currentDataset:""};var Qe=n(308),qe=function(){return Object(me.jsx)(Te.b,{p:2,bg:"gray.50",borderRadius:"lg",children:Object(Qe.a)($).map((function(e){return Object(me.jsx)(Le,{tagId:e,itemTypeKey:Pe,children:e})}))})},Ze=function(){var e=Object(f.b)(),t=Object(Ce.a)(),n=t.isOpen,c=t.onOpen,a=t.onClose,r=Object(f.c)(Re);return Object(me.jsxs)(Te.b,{w:"full",h:"full",p:2,children:[Object(me.jsx)(we.a,{onClick:function(){return e({type:je})},colorScheme:"teal",children:"Switch View"}),Object(me.jsx)(we.a,{onClick:c,children:"Load dataset"}),Object(me.jsx)(He,{isOpen:n,onClose:a,onChange:function(t){return e({type:R,url:t})},currentDataset:r,datasets:N}),Object(me.jsx)(Xe,{}),Object(me.jsx)(qe,{})]})},$e=n(310),et=function(){var e=Object(f.c)(ze),t=Object(f.c)(Ne);return Object(me.jsx)(ge.a,{direction:"column",overflow:"auto",children:Object(me.jsxs)($e.a,{variant:"striped",children:[Object(me.jsx)($e.e,{children:Object(me.jsx)($e.f,{children:0===e.length?Object(me.jsx)($e.d,{children:"To show table, please load a dataset"}):e.map((function(e){return Object(me.jsx)($e.d,{children:e},e)}))})}),Object(me.jsx)($e.b,{children:t.map((function(e){return Object(me.jsx)($e.f,{children:Object.values(e).map((function(e){return Object(me.jsx)($e.c,{children:e})}))})}))})]})})},tt=Object(Se.a)((function(e){return e.workingSpaceReducer}),(function(e){return e.dataTableView})),nt=(Object(Se.a)(tt,(function(e){return!e})),n(318)),ct=n(10),at=n(3),rt=n(4),it=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"table"},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"point",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pad";Object(at.a)(this,e),this.dataSpecification=t,this.autosize=c,this.mark=n,this.encodings=[]}return Object(rt.a)(e,[{key:"getVegaSpecification",value:function(){var e;return(e=P.e(this.dataSpecification).mark(this.mark)).encode.apply(e,Object(ct.a)(this.getEncodingChannels())).autosize(this.autosize).toSpec()}},{key:"getEncodingChannels",value:function(){return 0===this.encodings.length?[{}]:this.encodings}},{key:"isNoEncodedChannels",value:function(){return 0===this.encodings.length}},{key:"loadEncodingChannels",value:function(e){var t=this;Object.entries(e).filter((function(e){var t=Object(De.a)(e,2)[1];return!Object(A.a)(null===t||void 0===t?void 0:t.id)})).forEach((function(e){var n=Object(De.a)(e,2),c=n[0],a=n[1],r=a.id,i=a.type;Object.values($).includes(r)?t.loadEncodingChannelWithAggregateId(r,ee[c]):t.loadEncodingChannel(r,i,ee[c])}))}},{key:"loadEncodingChannelWithAggregateId",value:function(e,t){this.encodings.push(t[e]())}},{key:"loadEncodingChannel",value:function(e,t,n){this.encodings.push(n.field(e).type(t))}}]),e}(),ot=it,lt=function(e){var t=e.data,n=e.encodingFields,c=new ot({name:"table"},"circle","pad");return c.loadEncodingChannels(n),Object(me.jsx)(ge.a,{direction:"column",overflow:"auto",justify:"center",grow:1,children:Object(me.jsx)(nt.a,{spec:c.getVegaSpecification(),data:{table:c.isNoEncodedChannels()?[]:t}})})};lt.defaultProps={data:[{}],encodingFields:{}};var st=n(321),ut=n(329),jt=function(e){return e.vegaEncodingReducer},dt=Object(Se.a)(jt,(function(e){return e[q]})),bt=Object(Se.a)(jt,(function(e){return e[Z]})),Ot=Object(Se.a)(dt,bt,Ae,(function(e,t,n){return Object(st.a)((function(e){return Object(A.a)(e)?null:{id:e,type:n[e]}}),Object(ut.a)(e,t))})),ft=function(){var e=Object(f.c)(Ne),t=Object(f.c)(Ot);return Object(me.jsx)(lt,{data:e,encodingFields:t})},ht=function(){var e=Object(f.c)(tt);return Object(me.jsx)(ge.a,{direction:"column",overflow:"auto",children:e?Object(me.jsx)(et,{}):Object(me.jsx)(ft,{})})},pt=n(311),gt=function(){return Object(me.jsx)(ge.a,{justifyContent:"center",alignItems:"end",width:"100%",height:"100%",children:Object(me.jsx)(pt.a,{children:Object(me.jsx)(Ee.a,{fontSize:"md",children:"Jan Piotrowski 2021"})})})},xt=n(320),vt=function(e){var t=e.children,n=e.acceptedItemTypeKeys,c=e.onDrop,a=e.color,r=e.onDragColor,i=e.isOverColor,o=Object(xt.a)((function(){return{accept:n,drop:c,collect:function(e){return{isOver:!!e.isOver(),canDrop:!!e.canDrop()}}}})),l=Object(De.a)(o,2),s=l[0],u=s.isOver,j=s.canDrop,d=l[1];return Object(me.jsx)(pt.a,{display:"flex",ref:d,bgColor:function(){return j&&u?i:j&&!u?r:a},w:"100%",p:1,borderRadius:"lg",minHeight:10,alignItems:"center",children:t})};vt.defaultProps={children:null,onDrop:function(){},color:"gray.50",onDragColor:"green.100",isOverColor:"green.300"};var mt=function(e){var t=e.fieldId,n=e.label,c=e.value,a=e.onDrop;return Object(me.jsxs)(pt.a,{p:1,children:[Object(me.jsx)(Ee.a,{fontSize:"sm",fontWeight:600,children:n}),Object(me.jsx)(vt,{acceptedItemTypeKeys:[Pe],onDrop:function(e){var n=e.tagId;return a(t,n)},children:Object(A.a)(c)?Object(me.jsx)(Ee.a,{fontSize:"xs",color:"gray.500",children:"Drop attribute here"}):Object(me.jsx)(Le,{itemTypeKey:Pe,tagId:c,grow:!0,onDropOutsideDropzone:function(){return a(t,null)},children:c})})]},t)};mt.defaultProps={value:null};var yt=function(e){var t=e.fields,n=e.onDrop,c=e.label;return Object(me.jsxs)(pt.a,{p:3,borderWidth:"1px",borderRadius:"lg",children:[Object(me.jsx)(Ee.a,{fontSize:"lg",fontWeight:600,children:c}),t.map((function(e){var t=e.id,c=e.label,a=e.value;return Object(me.jsx)(mt,{fieldId:t,label:c,value:a,onDrop:n},t)}))]})},Ct=function(){var e=Object(f.b)(),t=Object(f.c)(dt),n=Object(f.c)(bt),c=[{id:q,label:"Encoding",fields:[{id:L,label:"X field",value:t[L]},{id:W,label:"Y field",value:t[W]},{id:M,label:"Row",value:t[M]},{id:F,label:"Column",value:t[F]}]},{id:Z,label:"Marks",fields:[{id:U,label:"Size",value:n[U]},{id:G,label:"Color",value:n[G]},{id:J,label:"Shape",value:n[J]}]}];return Object(me.jsx)(Te.b,{w:"full",h:"full",p:2,children:c.map((function(t){var n=t.id,c=t.fields,a=t.label;return Object(me.jsx)(yt,{onDrop:function(t,c){return e(function(e,t,n){return{type:V,fieldType:e,fieldId:t,attributeId:n}}(n,t,c))},fields:c,label:a},a)}))})},Tt=function(){return Object(me.jsx)(ge.a,{h:"100vh",p:6,children:Object(me.jsxs)(xe.a,{gridTemplateRows:"100px 1fr 50px",templateColumns:"200px 200px 1fr",gridGap:1,width:"100%",children:[Object(me.jsx)(xe.b,{gridColumn:"1 / 4",children:Object(me.jsx)(ye,{})}),Object(me.jsx)(Ze,{}),Object(me.jsx)(Ct,{}),Object(me.jsx)(ht,{}),Object(me.jsx)(xe.b,{gridColumn:"1 / 4",children:Object(me.jsx)(gt,{})})]})})},wt=function(){return Object(me.jsx)(f.a,{store:ae(pe),children:Object(me.jsx)(b.a,{theme:O.theme,children:Object(me.jsx)(h.a,{backend:p.a,children:Object(me.jsx)(Tt,{})})})})};d.a.render(Object(me.jsx)(u.a.StrictMode,{children:Object(me.jsx)(wt,{})}),document.getElementById("root"))}},[[261,1,2]]]);
//# sourceMappingURL=main.667fc8b9.chunk.js.map